(function(){var e={304:function(e,n,t){var i={"./icons-klaviyo-integration.svg":572};function a(e){return t(o(e))}function o(e){if(!t.o(i,e)){var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id=304},623:function(){},15:function(){},113:function(){},238:function(){},582:function(){},572:function(e){e.exports='<svg viewBox="0 0 266 178" fill="none" xmlns="http://www.w3.org/2000/svg" color="rgba(255, 255, 255, 1)" role="img" aria-label="Klaviyo Logo"><path d="M266 178H0V0h266l-55.835 89L266 178Z" fill="rgba(255, 255, 255, 1)"></path></svg>'},389:function(e,n,t){var i=t(623);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),t(346).Z("ed602f1a",i,!0,{})},73:function(e,n,t){var i=t(15);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),t(346).Z("43eebab3",i,!0,{})},845:function(e,n,t){var i=t(113);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),t(346).Z("46704dc2",i,!0,{})},291:function(e,n,t){var i=t(238);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),t(346).Z("3982f658",i,!0,{})},398:function(e,n,t){var i=t(582);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),t(346).Z("5dbed5fa",i,!0,{})},346:function(e,n,t){"use strict";function i(e,n){for(var t=[],i={},a=0;a<n.length;a++){var o=n[a],l=o[0],r={id:e+":"+a,css:o[1],media:o[2],sourceMap:o[3]};i[l]?i[l].parts.push(r):t.push(i[l]={id:l,parts:[r]})}return t}t.d(n,{Z:function(){return g}});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},l=a&&(document.head||document.getElementsByTagName("head")[0]),r=null,s=0,c=!1,d=function(){},p=null,u="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,n,t,a){c=t,p=a||{};var l=i(e,n);return b(l),function(n){for(var t=[],a=0;a<l.length;a++){var r=o[l[a].id];r.refs--,t.push(r)}n?b(l=i(e,n)):l=[];for(var a=0;a<t.length;a++){var r=t[a];if(0===r.refs){for(var s=0;s<r.parts.length;s++)r.parts[s]();delete o[r.id]}}}}function b(e){for(var n=0;n<e.length;n++){var t=e[n],i=o[t.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](t.parts[a]);for(;a<t.parts.length;a++)i.parts.push(k(t.parts[a]));i.parts.length>t.parts.length&&(i.parts.length=t.parts.length)}else{for(var l=[],a=0;a<t.parts.length;a++)l.push(k(t.parts[a]));o[t.id]={id:t.id,refs:1,parts:l}}}}function v(){var e=document.createElement("style");return e.type="text/css",l.appendChild(e),e}function k(e){var n,t,i=document.querySelector("style["+u+'~="'+e.id+'"]');if(i){if(c)return d;i.parentNode.removeChild(i)}if(h){var a=s++;n=f.bind(null,i=r||(r=v()),a,!1),t=f.bind(null,i,a,!0)}else n=m.bind(null,i=v()),t=function(){i.parentNode.removeChild(i)};return n(e),function(i){i?(i.css!==e.css||i.media!==e.media||i.sourceMap!==e.sourceMap)&&n(e=i):t()}}var y=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}();function f(e,n,t,i){var a=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(n,a);else{var o=document.createTextNode(a),l=e.childNodes;l[n]&&e.removeChild(l[n]),l.length?e.insertBefore(o,l[n]):e.appendChild(o)}}function m(e,n){var t=n.css,i=n.media,a=n.sourceMap;if(i&&e.setAttribute("media",i),p.ssrId&&e.setAttribute(u,n.id),a&&(t+="\n/*# sourceURL="+a.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},n={};function t(i){var a=n[i];if(void 0!==a)return a.exports;var o=n[i]={id:i,exports:{}};return e[i](o,o.exports,t),o.exports}t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="bundles/klavioverd/",window?.__sw__?.assetPath&&(t.p=window.__sw__.assetPath+"/bundles/klavioverd/"),function(){"use strict";Shopware.Component.override("sw-promotion-v2-list",{template:'{% block sw_promotion_v2_list_smart_bar_actions_add %}\n    {% parent %}\n    <sw-button\n            :link="getExportUrl()"\n            variant="primary"\n    >\n        {{ $tc(\'klaviyo_integration_plugin.promotion.exportInKlaviyoFormatButtonLabel\') }}\n    </sw-button>\n{% endblock %}\n\n{% block sw_promotion_v2_list_grid_columns_actions %}\n    {% parent %}\n    {% block sw_promotion_v2_list_grid_columns_actions_klaviyo_export %}\n        <template #more-actions="{ item }">\n            <sw-context-menu-item\n                    :disabled="(item && item.orderCount > 0)"\n                    @click="sendPromotionToExport(item.id)"\n            >\n                {{ $tc(\'klaviyo_integration_plugin.promotion.exportInKlaviyoFormatButtonLabel\') }}\n            </sw-context-menu-item>\n        </template>\n    {% endblock %}\n    {% parent %}\n{% endblock %}\n\n{% parent %}',methods:{getExportUrl(){return Shopware.Context.api.apiPath+"/klaviyo/integration/promotion/export"},sendPromotionToExport(e){e&&(window.location.href=this.getExportUrl()+"?id="+e)}}}),Shopware.Component.override("sw-promotion-v2-detail",{template:'{% block sw_promotion_v2_detail_actions_save %}\n    <sw-button\n            :disabled="promotion !== null && promotion.isLoading"\n            @click="sendPromotionToExport"\n    >\n        {{ $tc(\'klaviyo_integration_plugin.promotion.exportInKlaviyoFormatButtonLabel\') }}\n    </sw-button>\n\n    {% parent %}\n{% endblock %}\n\n\n',methods:{sendPromotionToExport(){if(!this.promotionId){this.createNotificationError({message:this.$tc("klaviyo_integration_plugin.promotion.notification.notificationExportErrorMessage",0,{entityName:this.promotion.name})});return}let e=Shopware.Context.api.apiPath;window.location.href=e+"/klaviyo/integration/promotion/export?id="+this.promotionId}}});let{ApiService:e}=Shopware.Classes;var n=class extends e{constructor(e,n,t="klaviyo"){super(e,n,t),this.name="klaviyoHistoricalEventsSynchronizationApiService"}scheduleSynchronization(){let e=this.getBasicHeaders();return this.httpClient.post("_action/klaviyo/historical-event-tracking/synchronization/schedule",{},{headers:e})}};let{ApiService:i}=Shopware.Classes;var a=class extends i{constructor(e,n,t="klaviyo"){super(e,n,t),this.name="klaviyoSubscribersSynchronizationApiService"}scheduleSynchronization(){let e=this.getBasicHeaders();return this.httpClient.post("_action/klaviyo/subscribers/synchronization/schedule",{},{headers:e})}};Shopware.Service().register("klaviyoHistoricalEventsSynchronizationApiService",e=>new n(Shopware.Application.getContainer("init").httpClient,e.loginService)),Shopware.Service().register("klaviyoSubscribersSynchronizationApiService",e=>new a(Shopware.Application.getContainer("init").httpClient,e.loginService));let{ApiService:o}=Shopware.Classes;var l=class extends o{constructor(e,n,t="klaviyo"){super(e,n,t),this.name="klaviyoApiKeyValidatorService"}validate(e,n,t){let i=this.getBasicHeaders();return this.httpClient.post("/_action/od-api-key-validate",{privateKey:e,publicKey:n,listId:t},{headers:i})}getList(e,n){let t=this.getBasicHeaders();return this.httpClient.post("/_action/od-get-subscriber-lists",{privateKey:e,publicKey:n},{headers:t})}validateListById(e,n,t){let i=this.getBasicHeaders();return this.httpClient.post("/_action/od-list-id-validate",{privateKey:e,publicKey:n,listId:t},{headers:i})}};Shopware.Service().register("klaviyoApiKeyValidatorService",e=>new l(Shopware.Application.getContainer("init").httpClient,e.loginService));var r=(()=>{let e=t(304);return e.keys().reduce((n,t)=>{let i=t.split(".")[1].split("/")[1];return n.push({name:i,functional:!0,render(n,i){let a=i.data;return n("span",{class:[a.staticClass,a.class],style:a.style,attrs:a.attrs,on:a.on,domProps:{innerHTML:e(t)}})}}),n},[])})();let{Component:s}=Shopware;(()=>r.map(e=>s.register(e.name,e)))(),Shopware.Service("exportTemplateService").registerProductExportTemplate({name:"klaviyo-product-feed",translationKey:"klaviyo_integration_plugin.productComparison.templates.template-label.klaviyo-product-feed",headerTemplate:'<?xml version="1.0" encoding="UTF-8" ?>\n<rss version="2.0" xmlns:g="http://base.google.com/ns/1.0" xmlns:atom="http://www.w3.org/2005/Atom">\n    <Products>\n'.trim(),bodyTemplate:"<Product>\n    <id>{{ product.productNumber }}</id>\n    <title>{{ product.translated.name|escape }}</title>\n    <link>{{ seoUrl('frontend.detail.page', {'productId': product.id}) }}</link>\n    <description>{{ product.translated.description|escape }}</description>\n    <price>{% set price = product.calculatedPrice %} {% if product.calculatedPrices.count %} {% set price = product.calculatedPrices.last %} {% endif %} {{ price.unitPrice }}</price>\n    {%- if product.cover is not null and product.cover.media -%}\n    <image_link>{{ product.cover.media.url }}</image_link>\n    {%- else -%}\n    <image_link>n/a</image_link>\n    {%- endif -%}\n    {%- if product.categories|length > 0 -%}\n        {% set categoryNames = [] %}\n\n        {% for category in product.categories %}\n            {% set categoryNames = categoryNames|merge([category.translated.name]) %}\n        {% endfor %}\n        <categories>{{ categoryNames|join(',')|raw|escape }}</categories>\n    {%- else -%}\n        <categories>n/a</categories>\n    {%- endif -%}\n    <inventory_quantity>{{ product.availableStock }}</inventory_quantity>\n    <inventory_policy>1</inventory_policy>\n</Product>\n",footerTemplate:"</Products>\n</rss>\n".trim(),fileName:"klaviyo.xml",encoding:"UTF-8",fileFormat:"xml",generateByCronjob:!1,interval:86400}),t(398);let{Component:c}=Shopware,{Criteria:d}=Shopware.Data;c.register("klaviyo-job-listing",{template:'{% block job_listing_page %}\n    <sw-page class="klaviyo-job-list">\n        <template v-slot:content>\n            <od-job-listing-index ref="jobListing"\n                                  :filterCriteria="filterCriteria"\n                                  @job-display-type-changed="onDisplayModeChange"\n                                  :jobTypes="klaviyoJobTypes">\n            </od-job-listing-index>\n        </template>\n        <template #sidebar>\n            <sw-sidebar ref="odSidebar">\n                {% block od_klaviyo_jobs_list_sidebar_refresh %}\n                    <sw-sidebar-item\n                            icon="regular-undo"\n                            :title="$tc(\'sw-product.list.titleSidebarItemRefresh\')"\n                            @click="onRefresh">\n                    </sw-sidebar-item>\n                {% endblock %}\n\n                \n                {% block od_klaviyo_jobs_list_sidebar_filters %}\n                    <sw-sidebar-filter-panel\n                            ref="odFilter"\n                            :hidden="hideFilters"\n                            entity="od_scheduler_job"\n                            :store-key="storeKey"\n                            :filters="listFilters"\n                            :defaults="defaultFilters"\n                            :active-filter-number="activeFilterNumber"\n                            @criteria-changed="updateCriteria">\n                    </sw-sidebar-filter-panel>\n                {% endblock %}\n            </sw-sidebar>\n        </template>\n    </sw-page>\n{% endblock %}\n',inject:["OdRescheduleService","repositoryFactory","filterFactory","feature"],data(){return{jobItems:null,isLoading:!1,reloadInterval:null,showJobInfoModal:!1,showJobSubsModal:!1,currentJobID:null,showMessagesModal:!1,currentJobMessages:null,sortType:"status",jobDisplayType:null,autoLoad:!1,autoLoadIsActive:!1,autoReloadInterval:6e4,statusFilterOptions:[],typeFilterOptions:[],filterCriteria:[],defaultFilters:["job-status-filter","job-type-filter","job-date-filter"],storeKey:"klaviyo_filters",activeFilterNumber:0,searchConfigEntity:"od_scheduler_job",showBulkEditModal:!1,hideFilters:!1}},computed:{jobRepository(){return this.repositoryFactory.create("od_scheduler_job")},klaviyoJobTypes(){return["od-klaviyo-events-sync-handler","od-klaviyo-cart-event-sync-handler","od-klaviyo-full-order-sync-handler","od-klaviyo-full-subscriber-sync-handler","od-klaviyo-order-event-sync-handler","od-klaviyo-order-sync-handler","od-klaviyo-subscriber-sync-handler","od-klaviyo-daily-excluded-subscriber-sync-handler"]},listFilters(){return this.filterFactory.create("od_scheduler_job",{"job-status-filter":{property:"status",type:"multi-select-filter",label:this.$tc("klaviyo-job-listing.page.job-listing.filter.job-status"),placeholder:this.$tc("klaviyo-job-listing.page.job-listing.filter.job-status-placeholder"),valueProperty:"value",labelProperty:"name",options:this.statusFilterOptions},"job-type-filter":{property:"name",type:"multi-select-filter",label:this.$tc("klaviyo-job-listing.page.job-listing.filter.job-type"),placeholder:this.$tc("klaviyo-job-listing.page.job-listing.filter.job-type-placeholder"),valueProperty:"value",labelProperty:"name",options:this.typeFilterOptions},"job-date-filter":{property:"createdAt",label:this.$tc("klaviyo-job-listing.page.job-listing.filter.created-at"),dateType:"date",fromFieldLabel:this.$tc("klaviyo-job-listing.page.job-listing.filter.from"),toFieldLabel:this.$tc("klaviyo-job-listing.page.job-listing.filter.to"),showTimeframe:!0}})}},created(){this.createdComponent()},methods:{createdComponent(){return this.loadFilterValues()},onDisplayModeChange(e){let n=this.$el;if(n.classList.remove("no-filter"),"list"!==e)return n.classList.add("no-filter"),this.$refs.odSidebar.closeSidebar(),0!==this.$refs.odFilter.$el.length&&this.$refs.odFilter.resetAll(),this.hideFilters=!0;this.hideFilters=!1},onRefresh(){this.$refs.jobListing?.onRefresh(this.filterCriteria)},updateCriteria(e){this.page=1,this.filterCriteria=e,this.activeFilterNumber=e.length},loadFilterValues(){this.filterLoading=!0;let e=new d;return e.addFilter(d.equals("parentId",null)),e.addSorting(d.sort("createdAt","DESC",!1)),e.setPage(1),e.setLimit(25),e.addFilter(d.equalsAny("type",["od-klaviyo-events-sync-handler","od-klaviyo-cart-event-sync-handler","od-klaviyo-full-order-sync-handler","od-klaviyo-full-subscriber-sync-handler","od-klaviyo-order-event-sync-handler","od-klaviyo-order-sync-handler","od-klaviyo-subscriber-sync-handler","od-klaviyo-daily-excluded-subscriber-sync-handler"])),this.jobRepository.search(e,Shopware.Context.api).then(e=>(this.statusFilterOptions=[],this.typeFilterOptions=[],["pending","running","succeed","error"].forEach(e=>{this.statusFilterOptions.push({name:this.$tc("job-listing.page.listing.grid.job-status."+e),value:e})}),["Full Order Sync Operation","Excluded Subscribers Daily Sync","Full Subscriber Sync Operation","Scheduled Events Sync"].forEach(e=>{this.typeFilterOptions.push({name:e,value:e})}),this.filterLoading=!1,Promise.resolve())).catch(()=>{this.filterLoading=!1})}}}),t(291);let{Component:p,Mixin:u,Defaults:h}=Shopware,{Criteria:g}=Shopware.Data;p.register("klaviyo-integration-settings",{template:'{% block klaviyo_integration_settings %}\n    <sw-page class="klaviyo-integration-settings">\n        {% block klaviyo_integration_settings_header %}\n            <template #smart-bar-header>\n                <h2>\n                    {{ $tc(\'sw-settings.index.title\') }}\n                    <sw-icon name="small-arrow-medium-right" small></sw-icon>\n                    {{ $tc(\'klaviyo-integration-settings.title\') }}\n                </h2>\n            </template>\n        {% endblock %}\n        {% block klaviyo_integration_settings_actions %}\n            <template #smart-bar-actions>\n\n                {% block klaviyo_integration_settings_actions_historical_events_synchronization_control %}\n                    <klaviyo-integration-settings-synchronization-control></klaviyo-integration-settings-synchronization-control>\n                {% endblock %}\n\n                {% block klaviyo_integration_settings_actions_save %}\n                    <sw-button-process\n                             v-model:value="isSaveSuccessful"\n                               :process-success="isSaveSuccessful"\n                               class="klaviyo-integration-settings-save"\n                               variant="primary"\n                               :is-loading="isLoading"\n                               :disabled="isLoading || hasError"\n                               @click="onSave">\n                        {{ $tc(\'global.default.save\') }}\n                    </sw-button-process>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_content %}\n            <template #content>\n\n\n                {% block klaviyo_integration_settings_content_sales_channel_config %}\n                    <sw-sales-channel-config v-model:value="config"\n                                             ref="configComponent"\n                                             domain="klavi_overd.config">\n                        {% block klaviyo_integration_settings_content_sales_channel_config_channel %}\n                            <template #select="{ onInput, selectedSalesChannelId }">\n                                {% block klaviyo_integration_settings_content_sales_channel_config_channel_card %}\n                                    <sw-card class="sw-card--grid"\n                                             :title="$tc(\'global.entities.sales_channel\', 2)">\n                                        <div class="card-container klaviyo-integration-settings-sales-channel">\n                                            {% block klaviyo_integration_settings_content_sales_channel_config_channel_card_select %}\n                                                <sw-single-select v-model:value="selectedSalesChannelId"\n                                                                  labelProperty="translated.name"\n                                                                  valueProperty="id"\n                                                                  :isLoading="isLoading"\n                                                                  :options="salesChannels"\n                                                                  @update:value="onInput">\n                                                </sw-single-select>\n                                            {% endblock %}\n                                        </div>\n                                    </sw-card>\n                                {% endblock %}\n                            </template>\n                        {% endblock %}\n\n                        {% block klaviyo_integration_settings_content_sales_channel_configs %}\n                            <template #content="{ actualConfigData, allConfigs, selectedSalesChannelId }">\n                                <div v-if="actualConfigData">\n\n                                    {% block klaviyo_integration_settings_content_sales_channel_general %}\n                                        <klaviyo-integration-settings-general\n                                                :actualConfigData="actualConfigData"\n                                                :allConfigs="allConfigs"\n                                                :selectedSalesChannelId="selectedSalesChannelId"\n                                                :privateKeyErrorState="privateKeyErrorState"\n                                                :publicKeyErrorState="publicKeyErrorState"\n                                                :listIdErrorState="listIdErrorState">\n                                        </klaviyo-integration-settings-general>\n                                    {% endblock %}\n\n                                    {% block klaviyo_integration_settings_content_sales_channel_customer %}\n                                        <klaviyo-integration-settings-customer :allConfigs="allConfigs"\n                                                                               :mappingErrorStates="mappingErrorStates">\n                                        </klaviyo-integration-settings-customer>\n                                    {% endblock %}\n\n                                </div>\n                            </template>\n                        {% endblock %}\n\n                    </sw-sales-channel-config>\n                {% endblock %}\n\n                {% block klaviyo_integration_settings_content_loading %}\n                    <sw-loader v-if="isLoading"></sw-loader>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory","klaviyoApiKeyValidatorService","systemConfigApiService"],mixins:[u.getByName("notification")],data(){return{isLoading:!1,isSaveSuccessful:!1,isListIdPresent:!1,privateKeyFilled:!1,publicKeyFilled:!1,listIdFilled:!1,messageBlankErrorState:null,mappingErrorStates:{},config:{},savedListId:null,salesChannels:[]}},metaInfo(){return{title:this.$createTitle()}},created(){this.createdComponent()},computed:{salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},salesChannelCriteria(){let e=new g(1,500);return e.addFilter(g.equalsAny("typeId",[h.storefrontSalesChannelTypeId,h.apiSalesChannelTypeId])),e},privateKeyErrorState(){return this.privateKeyFilled?null:this.messageBlankErrorState},publicKeyErrorState(){return this.publicKeyFilled?null:this.messageBlankErrorState},listIdErrorState(){return this.listIdFilled?null:this.messageBlankErrorState},hasError(){let e=0!==Object.values(this.mappingErrorStates).filter(e=>void 0!==e.code).length;return!this.privateKeyFilled||!this.publicKeyFilled||!this.listIdFilled||e}},watch:{config:{handler(){let e=this.$refs.configComponent.selectedSalesChannelId,n=!!this.config["klavi_overd.config.enabled"];null!==e&&n?(this.privateKeyFilled=!!this.config["klavi_overd.config.privateApiKey"],this.publicKeyFilled=!!this.config["klavi_overd.config.publicApiKey"],this.listIdFilled=!!this.config["klavi_overd.config.klaviyoListForSubscribersSync"],this.savedListId?this.savedListId!==this.config["klavi_overd.config.klaviyoListForSubscribersSync"]&&this.privateKeyFilled&&this.publicKeyFilled&&this.listIdFilled&&(this.validateNewsletterListId(this.config["klavi_overd.config.klaviyoListForSubscribersSync"]),this.savedListId=this.config["klavi_overd.config.klaviyoListForSubscribersSync"]):this.savedListId=this.config["klavi_overd.config.klaviyoListForSubscribersSync"]):this.privateKeyFilled=this.publicKeyFilled=this.listIdFilled=!0},deep:!0},newsletterListId:{handler(){let e=this.$refs.configComponent.selectedSalesChannelId,n=!!this.config["klavi_overd.config.enabled"];null!==e&&n&&this.privateKeyFilled&&this.publicKeyFilled&&this.listIdFilled&&this.validateNewsletterListId(this.config["klavi_overd.config.klaviyoListForSubscribersSync"])},deep:!0}},methods:{createdComponent(){this.getSalesChannels(),this.messageBlankErrorState={code:1,detail:Shopware.Snippet.tc("klaviyo-integration-settings.configs.credentials.messageNotBlank")}},getSalesChannels(){this.isLoading=!0,this.salesChannelRepository.search(this.salesChannelCriteria,Shopware.Context.api).then(e=>{e.add({id:null,translated:{name:Shopware.Snippet.tc("sw-sales-channel-switch.labelDefaultOption")}}),this.salesChannels=e}).finally(()=>{this.isLoading=!1})},async onSave(){if(this.hasError)return;this.isLoading=!0;let e=this.config["klavi_overd.config.klaviyoListForSubscribersSync"];if(e&&(await this.validateNewsletterListId(e),!this.isListIdPresent)){this.isLoading=!1,this.isSaveSuccessful=!1;return}this.$refs.configComponent.save().then(()=>{this.isSaveSuccessful=!0}).finally(()=>{this.isLoading=!1})},async validateNewsletterListId(e){let n=this.config["klavi_overd.config.privateApiKey"],t=this.config["klavi_overd.config.publicApiKey"];this.isListIdPresent=!1;try{let i=await this.klaviyoApiKeyValidatorService.validateListById(n,t,e);i.data&&i.data.data?i.data.data[0].value===e&&(this.isListIdPresent=!0):(this.isListIdPresent=!1,this.createNotificationError({message:Shopware.Snippet.tc("klaviyo-integration-settings.configs.apiValidation.listNotExistMessage")}))}catch(e){this.isListIdPresent=!1,this.createNotificationError({message:Shopware.Snippet.tc("klaviyo-integration-settings.configs.apiValidation.listNotExistMessage")})}}}}),t(73);let{Component:b,Mixin:v,Utils:k}=Shopware;b.register("klaviyo-integration-settings-general",{template:'{% block klaviyo_integration_settings_general %}\n    <div>\n        <sw-card :title="$tc(\'klaviyo-integration-settings.general.initialization.general-label\')"\n                 class="klaviyo-interaction-settings">\n            <sw-inherit-wrapper\n                class="cookie-consent-inheritance"\n                v-model:value="actualConfigData[\'klavi_overd.config.cookieConsent\']"\n                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.cookieConsent\']"\n                :label="$tc(\'klaviyo-integration-settings.configs.cookieConsent.label\')"\n                :help-text="$tc(\'klaviyo-integration-settings.configs.cookieConsent.helpText\')">\n                <template #content="props">\n                    <sw-single-select name="klavi_overd.config.cookieConsent"\n                                      labelProperty="label"\n                                      valueProperty="value"\n                                      :options="createCookieConsentOptions"\n                                      :isInherited="props.isInherited"\n                                      :disabled="props.isInherited"\n                                      show-clearable-button\n                                      :modelValue="props.currentValue"\n                                      @update:value="props.updateCurrentValue">\n                    </sw-single-select>\n                </template>\n            </sw-inherit-wrapper>\n\n            <sw-inherit-wrapper\n                    v-model:value="actualConfigData[\'klavi_overd.config.isInitializeKlaviyoAfterInteraction\']"\n                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.isInitializeKlaviyoAfterInteraction\']"\n                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="klavi_overd.config.isInitializeKlaviyoAfterInteraction"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.general.initialization.label\')"\n                                     :disabled="props.isInherited"\n                                     :modelValue="props.currentValue"\n                                     :helpText="$tc(\'klaviyo-integration-settings.general.initialization.helpText\')"\n                                     @update:value="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        </sw-card>\n        <sw-card :title="$tc(\'klaviyo-integration-settings.general.title\')">\n            {% block klaviyo_integration_settings_general_credentials_alert %}\n                <sw-alert v-if="selectedSalesChannelId === null" variant="warning">\n                    {{ $t(\'klaviyo-integration-settings.general.credentialsAlert\') }}\n                </sw-alert>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_test_api %}\n                <sw-button-process variant="ghost" v-if="selectedSalesChannelId !== null"\n                                   :isLoading="apiValidationInProgress"\n                                   @click="validateApiCredentials">\n                    {{ $tc(\'klaviyo-integration-settings.configs.apiValidation.buttonLabel\') }}\n                </sw-button-process>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_enabled %}\n                <sw-switch-field\n                        v-if="selectedSalesChannelId !== null"\n                        class="no-top-margin"\n                        v-model:value="actualConfigData[\'klavi_overd.config.enabled\']"\n                        name="klavi_overd.config.enabled"\n                        :label="$tc(\'klaviyo-integration-settings.configs.enabled.label\')"\n                        :helpText="$tc(\'klaviyo-integration-settings.configs.enabled.helpText\')">\n                </sw-switch-field>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_private_api_key %}\n                <sw-password-field\n                        v-model:value="actualConfigData[\'klavi_overd.config.privateApiKey\']"\n                        name="klavi_overd.config.privateApiKey"\n                        :label="$tc(\'klaviyo-integration-settings.configs.privateApiKey.label\')"\n                        :helpText="$tc(\'klaviyo-integration-settings.configs.privateApiKey.helpText\')"\n                        :disabled="selectedSalesChannelId === null"\n                        :error="privateKeyErrorState"\n                        required>\n                </sw-password-field>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_public_api_key %}\n                <sw-text-field\n                        v-model:value="actualConfigData[\'klavi_overd.config.publicApiKey\']"\n                        name="klavi_overd.config.publicApiKey"\n                        :label="$tc(\'klaviyo-integration-settings.configs.publicApiKey.label\')"\n                        :helpText="$tc(\'klaviyo-integration-settings.configs.publicApiKey.helpText\')"\n                        :disabled="selectedSalesChannelId === null"\n                        :error="publicKeyErrorState"\n                        required>\n                </sw-text-field>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_double_opt_in_alert %}\n                <sw-alert variant="warning">\n                    {{ $t(\'klaviyo-integration-settings.general.doubleoptinAlert\') }}\n                </sw-alert>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_klaviyo_list_for_subscribers_sync %}\n                <sw-text-field\n                        v-model:value="actualConfigData[\'klavi_overd.config.klaviyoListForSubscribersSync\']"\n                        name="klavi_overd.config.klaviyoListForSubscribersSync"\n                        ref="newsletterListId"\n                        :label="$tc(\'klaviyo-integration-settings.configs.klaviyoListForSubscribersSync.label\')"\n                        :helpText="$tc(\'klaviyo-integration-settings.configs.klaviyoListForSubscribersSync.helpText\')"\n                        :disabled="selectedSalesChannelId === null"\n                        :error="listIdErrorState"\n                        required>\n                </sw-text-field>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_varian_for_bis %}\n                <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.bisVariantField\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.bisVariantField\']"\n                                    :label="$tc(\'klaviyo-integration-settings.configs.bisVariantField.label\')"\n                                    :help-text="$tc(\'klaviyo-integration-settings.configs.bisVariantField.helpText\')">\n                    <template #content="props">\n                        <sw-single-select name="klavi_overd.config.bisVariantField"\n                                          labelProperty="label"\n                                          valueProperty="value"\n                                          :options="createBisVariantFieldOptions"\n                                          :isInherited="props.isInherited"\n                                          :disabled="props.isInherited"\n                                          show-clearable-button\n                                          :modelValue="props.currentValue"\n                                          @update:value="props.updateCurrentValue">\n                        </sw-single-select>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_order_identification %}\n                <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.orderIdentification\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.orderIdentification\']"\n                                    :label="$tc(\'klaviyo-integration-settings.configs.orderIdentification.label\')"\n                                    :help-text="$tc(\'klaviyo-integration-settings.configs.orderIdentification.helpText\')">\n                    <template #content="props">\n                        <sw-single-select name="klavi_overd.config.orderIdentification"\n                                          labelProperty="label"\n                                          valueProperty="value"\n                                          :options="createOrderIdentificationFieldOptions"\n                                          :isInherited="props.isInherited"\n                                          :disabled="props.isInherited"\n                                          show-clearable-button\n                                          :modelValue="props.currentValue"\n                                          @update:value="props.updateCurrentValue">\n                        </sw-single-select>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_deleted_account_orders %}\n                <sw-inherit-wrapper\n                        v-model:value="actualConfigData[\'klavi_overd.config.trackDeletedAccountOrders\']"\n                        :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackDeletedAccountOrders\']"\n                        :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.trackDeletedAccountOrders"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackDeletedAccountOrders.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackDeletedAccountOrders.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :modelValue="props.currentValue"\n                                         @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_viewed_product %}\n                <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackViewedProduct\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackViewedProduct\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.trackViewedProduct"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackViewedProduct.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackViewedProduct.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :modelValue="props.currentValue"\n                                         @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_recently_viewed_items %}\n                <sw-inherit-wrapper\n                        v-model:value="actualConfigData[\'klavi_overd.config.trackRecentlyViewedItems\']"\n                        :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackRecentlyViewedItems\']"\n                        :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.trackRecentlyViewedItems"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackRecentlyViewedItems.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackRecentlyViewedItems.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :modelValue="props.currentValue"\n                                         @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_added_to_cart %}\n                <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackAddedToCart\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackAddedToCart\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.trackAddedToCart"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackAddedToCart.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackAddedToCart.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :modelValue="props.currentValue"\n                                         @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_started_checkout %}\n                <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackStartedCheckout\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackStartedCheckout\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.trackStartedCheckout"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackStartedCheckout.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackStartedCheckout.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :modelValue="props.currentValue"\n                                         @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_placed_order %}\n                <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackPlacedOrder\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackPlacedOrder\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.trackPlacedOrder"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackPlacedOrder.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackPlacedOrder.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :modelValue="props.currentValue"\n                                         @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_track_ordered_product %}\n                <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackOrderedProduct\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackOrderedProduct\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.trackOrderedProduct"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackOrderedProduct.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackOrderedProduct.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :modelValue="props.currentValue"\n                                         @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_order_track %}\n                <fieldset>\n                    <legend>Order status tracking</legend>\n\n                    <sw-container>\n\n                        {% block klaviyo_integration_settings_general_track_fulfilled_order %}\n                            <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackFulfilledOrder\']"\n                                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackFulfilledOrder\']"\n                                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                                <template #content="props">\n                                    <sw-switch-field name="klavi_overd.config.trackFulfilledOrder"\n                                                     :mapInheritance="props"\n                                                     :label="$tc(\'klaviyo-integration-settings.configs.trackFulfilledOrder.label\')"\n                                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackFulfilledOrder.helpText\')"\n                                                     :disabled="props.isInherited"\n                                                     :modelValue="props.currentValue"\n                                                     @update:value="props.updateCurrentValue">\n                                    </sw-switch-field>\n                                </template>\n                            </sw-inherit-wrapper>\n                        {% endblock %}\n\n                        {% block klaviyo_integration_settings_general_track_cancelled_order %}\n                            <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackCancelledOrder\']"\n                                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackCancelledOrder\']"\n                                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                                <template #content="props">\n                                    <sw-switch-field name="klavi_overd.config.trackCancelledOrder"\n                                                     :mapInheritance="props"\n                                                     :label="$tc(\'klaviyo-integration-settings.configs.trackCancelledOrder.label\')"\n                                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackCancelledOrder.helpText\')"\n                                                     :disabled="props.isInherited"\n                                                     :modelValue="props.currentValue"\n                                                     @update:value="props.updateCurrentValue">\n                                    </sw-switch-field>\n                                </template>\n                            </sw-inherit-wrapper>\n                        {% endblock %}\n\n                    </sw-container>\n\n                </fieldset>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_order_payment_track %}\n                <fieldset>\n                    <legend>Order payment status</legend>\n\n                    <sw-container>\n\n                        {% block klaviyo_integration_settings_general_track_refunded_order %}\n                            <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackRefundedOrder\']"\n                                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackRefundedOrder\']"\n                                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                                <template #content="props">\n                                    <sw-switch-field name="klavi_overd.config.trackRefundedOrder"\n                                                     :mapInheritance="props"\n                                                     :label="$tc(\'klaviyo-integration-settings.configs.trackRefundedOrder.label\')"\n                                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackRefundedOrder.helpText\')"\n                                                     :disabled="props.isInherited"\n                                                     :modelValue="props.currentValue"\n                                                     @update:value="props.updateCurrentValue">\n                                    </sw-switch-field>\n                                </template>\n                            </sw-inherit-wrapper>\n                        {% endblock %}\n\n                        {% block klaviyo_integration_settings_general_track_paid_order %}\n                <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackPaidOrder\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackPaidOrder\']"\n                                    :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.trackPaidOrder"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackPaidOrder.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackPaidOrder.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :modelValue="props.currentValue"\n                                         @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n                    </sw-container>\n\n                </fieldset>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_order_delivery_track %}\n                <fieldset>\n                    <legend>Order delivery status</legend>\n\n                    <sw-container>\n\n                        {% block klaviyo_integration_settings_general_track_shipped_order %}\n                            <sw-inherit-wrapper v-model:value="actualConfigData[\'klavi_overd.config.trackShippedOrder\']"\n                                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackShippedOrder\']"\n                                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                                <template #content="props">\n                                    <sw-switch-field name="klavi_overd.config.trackShippedOrder"\n                                                     :mapInheritance="props"\n                                                     :label="$tc(\'klaviyo-integration-settings.configs.trackShippedOrder.label\')"\n                                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackShippedOrder.helpText\')"\n                                                     :disabled="props.isInherited"\n                                                     :modelValue="props.currentValue"\n                                                     @update:value="props.updateCurrentValue">\n                                    </sw-switch-field>\n                                </template>\n                            </sw-inherit-wrapper>\n                        {% endblock %}\n\n                    </sw-container>\n\n                </fieldset>\n            {% endblock %}\n\n\n\n            {% block klaviyo_integration_settings_general_track_back_in_stock %}\n                <sw-inherit-wrapper\n                        v-model:value="actualConfigData[\'klavi_overd.config.trackSubscribedToBackInStock\']"\n                        :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.trackSubscribedToBackInStock\']"\n                        :customInheritationCheckFunction="checkBoolFieldInheritance">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.trackSubscribedToBackInStock"\n                                         :mapInheritance="props"\n                                         :label="$tc(\'klaviyo-integration-settings.configs.trackSubscribedToBackInStock.label\')"\n                                         :helpText="$tc(\'klaviyo-integration-settings.configs.trackSubscribedToBackInStock.helpText\')"\n                                         :disabled="props.isInherited"\n                                         :modelValue="props.currentValue"\n                                         @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_excluded_subscribers_synchronization_flag %}\n                <sw-inherit-wrapper v-if="selectedSalesChannelId === null"\n                                    v-model:value="actualConfigData[\'klavi_overd.config.excludedSubscribersSynchronization\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.excludedSubscribersSynchronization\']">\n                    <template #content="props">\n                        <sw-switch-field name="klavi_overd.config.excludedSubscribersSynchronization"\n                                :map-inheritance="props"\n                                :label="$tc(\'klaviyo-integration-settings.configs.excludedSubscribersSynchronization.label\')"\n                                :help-text="$tc(\'klaviyo-integration-settings.configs.excludedSubscribersSynchronization.helpText\')"\n                                :disabled="props.isInherited"\n                                :modelValue="props.currentValue"\n                                @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_daily_synchronization_flag %}\n                <sw-inherit-wrapper v-if="selectedSalesChannelId === null"\n                                    v-model:value="actualConfigData[\'klavi_overd.config.dailySynchronization\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.dailySynchronization\']">\n                    <template #content="props">\n                        <sw-switch-field\n                                :map-inheritance="props"\n                                :label="$tc(\'klaviyo-integration-settings.configs.enableDailySynchronization.label\')"\n                                :help-text="$tc(\'klaviyo-integration-settings.configs.enableDailySynchronization.helpText\')"\n                                :disabled="props.isInherited"\n                                :modelValue="props.currentValue"\n                                @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_daily_synchronization_time %}\n                <sw-inherit-wrapper v-if="selectedSalesChannelId === null && actualConfigData[\'klavi_overd.config.dailySynchronization\']"\n                                    v-model:value="actualConfigData[\'klavi_overd.config.dailySynchronizationTime\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.dailySynchronizationTime\']">\n                    <template #content="props">\n                        <sw-datepicker\n                                :map-inheritance="props"\n                                :modelValue="props.currentValue"\n                                dateType="time"\n                                dateFormat="H:i"\n                                :time="true"\n                                :disabled="props.isInherited"\n                                :label="$tc(\'klaviyo-integration-settings.configs.timeDailySynchronization.label\')"\n                                :help-text="$tc(\'klaviyo-integration-settings.configs.timeDailySynchronization.helpText\')"\n                                @update:value="props.updateCurrentValue">\n                        </sw-datepicker>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_old_job_cleanup_flag %}\n                <sw-inherit-wrapper v-if="selectedSalesChannelId === null"\n                                    v-model:value="actualConfigData[\'klavi_overd.config.oldJobCleanup\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.oldJobCleanup\']">\n                    <template #content="props">\n                        <sw-switch-field\n                            :map-inheritance="props"\n                            :label="$tc(\'klaviyo-integration-settings.configs.oldJobCleanup.label\')"\n                            :help-text="$tc(\'klaviyo-integration-settings.configs.oldJobCleanup.helpText\')"\n                            :disabled="props.isInherited"\n                            :modelValue="props.currentValue"\n                            @update:value="props.updateCurrentValue">\n                        </sw-switch-field>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block klaviyo_integration_settings_general_old_job_cleanup_period %}\n                <sw-inherit-wrapper v-if="selectedSalesChannelId === null && actualConfigData[\'klavi_overd.config.oldJobCleanup\']"\n                                    v-model:value="actualConfigData[\'klavi_overd.config.oldJobCleanupPeriod\']"\n                                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.oldJobCleanupPeriod\']">\n                    <template #content="props">\n                        <sw-single-select name="klavi_overd.config.oldJobCleanupPeriod"\n                                          labelProperty="label"\n                                          valueProperty="value"\n                                          :options="createOldJobCleanupPeriodOptions"\n                                          :isInherited="props.isInherited"\n                                          :disabled="props.isInherited"\n                                          show-clearable-button\n                                          :modelValue="props.currentValue"\n                                          @update:value="props.updateCurrentValue">\n                        </sw-single-select>\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n        </sw-card>\n        <sw-card\n                :title="$tc(\'klaviyo-integration-settings.pop-up.title\')"\n                v-if="actualConfigData[\'klavi_overd.config.trackSubscribedToBackInStock\']">\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.open-button-fieldset-label\') }}</legend>\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_show_button %}\n                        <sw-inherit-wrapper\n                                v-model:value="actualConfigData[\'klavi_overd.config.popUpOpenBtnColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.popUpOpenBtnColor\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                            <template #content="props">\n                                <sw-colorpicker\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.colorLabel\')"\n                                        :map-inheritance="props"\n                                        :modelValue="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="klavi_overd.config.popUpOpenBtnColor"\n                                        @update:value="props.updateCurrentValue">\n                                </sw-colorpicker>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_show_button_bg %}\n                        <sw-inherit-wrapper\n                                v-model:value="actualConfigData[\'klavi_overd.config.popUpOpenBtnBgColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.popUpOpenBtnBgColor\']">\n                            <template #content="props">\n                                <sw-colorpicker\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.backgroundLabel\')"\n                                        :map-inheritance="props"\n                                        :modelValue="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="klavi_overd.config.popUpOpenBtnBgColor"\n                                        @update:value="props.updateCurrentValue">\n                                </sw-colorpicker>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.close-button-fieldset-label\') }}</legend>\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_hide_button %}\n                        <sw-inherit-wrapper\n                                v-model:value="actualConfigData[\'klavi_overd.config.popUpCloseBtnColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.popUpCloseBtnColor\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                            <template #content="props">\n                                <sw-colorpicker\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.colorLabel\')"\n                                        :map-inheritance="props"\n                                        :modelValue="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="klavi_overd.config.popUpCloseBtnColor"\n                                        @update:value="props.updateCurrentValue">\n                                </sw-colorpicker>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_hide_button_bg %}\n                        <sw-inherit-wrapper\n                                v-model:value="actualConfigData[\'klavi_overd.config.popUpCloseBtnBgColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.popUpCloseBtnBgColor\']">\n                            <template #content="props">\n                                <sw-colorpicker\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.backgroundLabel\')"\n                                        :map-inheritance="props"\n                                        :modelValue="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="klavi_overd.config.popUpCloseBtnBgColor"\n                                        @update:value="props.updateCurrentValue">\n                                </sw-colorpicker>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.subscribe-button-fieldset-label\') }}</legend>\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_subscribe_button %}\n                        <sw-inherit-wrapper\n                                v-model:value="actualConfigData[\'klavi_overd.config.subscribeBtnColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.subscribeBtnColor\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                            <template #content="props">\n                                <sw-colorpicker\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.colorLabel\')"\n                                        :map-inheritance="props"\n                                        :modelValue="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="klavi_overd.config.subscribeBtnColor"\n                                        @update:value="props.updateCurrentValue">\n                                </sw-colorpicker>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_subscribe_button_bg %}\n                        <sw-inherit-wrapper\n                                v-model:value="actualConfigData[\'klavi_overd.config.subscribeBtnBgColor\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.subscribeBtnBgColor\']"\n                        >\n                            <template #content="props">\n                                <sw-colorpicker\n                                        :label="$tc(\'klaviyo-integration-settings.pop-up.backgroundLabel\')"\n                                        :map-inheritance="props"\n                                        :modelValue="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="klavi_overd.config.subscribeBtnBgColor"\n                                        @update:value="props.updateCurrentValue">\n                                </sw-colorpicker>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.snippet-button-fieldset-label\') }}</legend>\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_open_button_snippet %}\n                        <sw-text-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.openBtnLabel\')"\n                                modelValue="klaviyo.back-in-stock.modal.openBtnLabel"\n                                disabled>\n                        </sw-text-field>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_close_button_snippet %}\n                        <sw-text-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.closeBtnLabel\')"\n                                modelValue="klaviyo.back-in-stock.modal.closeBtnLabel"\n                                disabled>\n                        </sw-text-field>\n                    {% endblock %}\n                </sw-container>\n\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_email_field_label_snippet %}\n                        <sw-text-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.emailFieldLabel\')"\n                                modelValue="klaviyo.back-in-stock.modal.email"\n                                disabled>\n                        </sw-text-field>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_close_button_snippet %}\n                        <sw-text-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.emailFieldPlaceholder\')"\n                                modelValue="klaviyo.back-in-stock.modal.email-placeholder"\n                                disabled>\n                        </sw-text-field>\n                    {% endblock %}\n                </sw-container>\n\n                <sw-container columns="5fr 5fr" gap="16px">\n\n                    {% block klaviyo_integration_settings_pop_up_subscribe_button_snippet %}\n                        <sw-text-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.subscribeBtnLabel\')"\n                                modelValue="klaviyo.back-in-stock.modal.subscribeBtnLabel"\n                                disabled>\n                        </sw-text-field>\n                    {% endblock %}\n\n                    {% block klaviyo_integration_settings_pop_up_subscribe_checkbox_snippet %}\n                        <sw-text-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.subscribeCheckboxLabel\')"\n                                modelValue="klaviyo.back-in-stock.modal.subscribe-to-newsletter"\n                                disabled>\n                        </sw-text-field>\n                    {% endblock %}\n                </sw-container>\n\n                <sw-container columns="5fr 5fr" gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_content_message_snippet %}\n                        <sw-text-field\n                                :label="$tc(\'klaviyo-integration-settings.pop-up.contentMessageLabel\')"\n                                modelValue="klaviyo.back-in-stock.modal.contentMessage"\n                                disabled>\n                        </sw-text-field>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n\n            <fieldset>\n                <legend>{{ $tc(\'klaviyo-integration-settings.pop-up.additional-classes-fieldset-label\') }}</legend>\n                <sw-container gap="16px">\n                    {% block klaviyo_integration_settings_pop_up_additional_classes %}\n                        <sw-inherit-wrapper\n                                v-model:value="actualConfigData[\'klavi_overd.config.popUpAdditionalClasses\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'klavi_overd.config.popUpAdditionalClasses\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                            <template #content="props">\n                                <sw-text-field\n                                        :map-inheritance="props"\n                                        :value="props.currentValue"\n                                        :disabled="props.isInherited"\n                                        name="klavi_overd.config.popUpAdditionalClasses"\n                                        @update:value="props.updateCurrentValue">\n                                </sw-text-field>\n                            </template>\n                        </sw-inherit-wrapper>\n                    {% endblock %}\n                </sw-container>\n            </fieldset>\n        </sw-card>\n    </div>\n{% endblock %}\n',inject:["klaviyoApiKeyValidatorService"],mixins:[v.getByName("notification")],props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{type:String,required:!1,default:null},privateKeyErrorState:{type:Object,required:!1,default:null},publicKeyErrorState:{type:Object,required:!1,default:null},listIdErrorState:{type:Object,required:!1,default:null}},watch:{selectedSalesChannelId:{deep:!0,immediate:!0,handler:function(e){this.salesChannelSwitched(e)}}},data(){return{selectedSubscriptionList:null,subscriptionListOptions:[],isLoading:!1,apiValidationInProgress:!1,cookieConsentOptions:[{name:"Nothing",value:"nothing"},{name:"Shopware default",value:"shopware"},{name:"CookieBot",value:"cookiebot"},{name:"ConsentManager",value:"consentmanager"}]}},computed:{createBisVariantFieldOptions(){return[{label:Shopware.Snippet.tc("klaviyo-integration-settings.configs.bisVariantField.productId"),value:"product-id"},{label:Shopware.Snippet.tc("sw-product.basicForm.labelProductNumber"),value:"product-number"}]},createOrderIdentificationFieldOptions(){return[{label:Shopware.Snippet.tc("klaviyo-integration-settings.configs.orderIdentification.orderId"),value:"order-id"},{label:Shopware.Snippet.tc("klaviyo-integration-settings.configs.orderIdentification.orderNumber"),value:"order-number"}]},createCookieConsentOptions(){return[{label:Shopware.Snippet.tc("klaviyo-integration-settings.configs.cookieConsent.nothingLabel"),value:"nothing"},{label:Shopware.Snippet.tc("klaviyo-integration-settings.configs.cookieConsent.shopwareLabel"),value:"shopware"},{label:Shopware.Snippet.tc("klaviyo-integration-settings.configs.cookieConsent.cookieBotLabel"),value:"cookiebot"},{label:Shopware.Snippet.tc("klaviyo-integration-settings.configs.cookieConsent.consentManagerLabel"),value:"consentmanager"}]},createOldJobCleanupPeriodOptions(){let e=[5,10,15,20,30,60,90],n=[];for(let t in e)n.push({label:Shopware.Snippet.tc("klaviyo-integration-settings.configs.oldJobCleanupPeriod.after")+" "+e[t]+" "+Shopware.Snippet.tc("klaviyo-integration-settings.configs.oldJobCleanupPeriod.days"),value:e[t]});return n}},created(){this.createdComponent()},methods:{salesChannelSwitched(e){e||(this.selectedSubscriptionList=null)},createdComponent(){let e="klavi_overd.config.";for(let[n,t]of Object.entries({enabled:!1,bisVariantField:"product-number",orderIdentification:"order-id",trackDeletedAccountOrders:!1,trackViewedProduct:!0,trackRecentlyViewedItems:!0,trackAddedToCart:!0,trackStartedCheckout:!0,trackPlacedOrder:!0,trackOrderedProduct:!0,trackFulfilledOrder:!0,trackCancelledOrder:!0,trackRefundedOrder:!0,trackPaidOrder:!1,trackShippedOrder:!1,trackSubscribedToBackInStock:!0,isInitializeKlaviyoAfterInteraction:!0,popUpOpenBtnColor:"",popUpOpenBtnBgColor:"",popUpCloseBtnColor:"",popUpCloseBtnBgColor:"",subscribeBtnColor:"",subscribeBtnBgColor:"",popUpAdditionalClasses:"",cookieConsent:"shopware",dailySynchronizationTime:!1,oldJobCleanupPeriod:5,excludedSubscribersSynchronization:!0}))void 0===this.allConfigs.null[e+n]&&this.$set(this.allConfigs.null,e+n,t)},checkTextFieldInheritance(e){return"string"!=typeof e||e.length<=0},checkBoolFieldInheritance(e){return"boolean"!=typeof e},validateApiCredentials(){this.apiValidationInProgress=!0;let e=this.actualConfigData["klavi_overd.config.privateApiKey"],n=this.actualConfigData["klavi_overd.config.publicApiKey"],t=this.actualConfigData["klavi_overd.config.klaviyoListForSubscribersSync"];if(!(this.credentialsEmptyValidation("privateApiKey",e)*this.credentialsEmptyValidation("publicApiKey",n))){this.apiValidationInProgress=!1;return}this.klaviyoApiKeyValidatorService.validate(e,n,t).then(e=>{if(200!==e.status){this.createNotificationError({message:Shopware.Snippet.tc("klaviyo-integration-settings.configs.apiValidation.generalErrorMessage")});return}let n=e.data;n.success?this.createNotificationSuccess({title:this.$root.$tc("global.default.success"),message:Shopware.Snippet.tc("klaviyo-integration-settings.configs.apiValidation.correctApiMessage")}):n.general_error?(this.createNotificationError({message:Shopware.Snippet.tc("klaviyo-integration-settings.configs.apiValidation.generalErrorMessage")}),this.storeSelectedListValue(null)):n.incorrect_credentials&&(this.createNotificationError({title:Shopware.Snippet.tc("klaviyo-integration-settings.configs.apiValidation.incorrectCredentialsTitle"),message:n.incorrect_credentials_message}),this.storeSelectedListValue(null))}).catch(()=>{this.createNotificationError({message:Shopware.Snippet.tc("klaviyo-integration-settings.configs.apiValidation.generalErrorMessage")})}).finally(()=>{this.apiValidationInProgress=!1})},credentialsEmptyValidation(e,n){return void 0!==n&&""!==n&&null!==n||(this.createNotificationError({message:Shopware.Snippet.tc("klaviyo-integration-settings.configs.apiValidation.emptyErrorMessage",0,{entityName:Shopware.Snippet.tc("klaviyo-integration-settings.configs."+e+".label")})}),!1)}}}),t(389);let{Component:y,Context:f}=Shopware,{Criteria:m}=Shopware.Data;y.register("klaviyo-integration-settings-customer",{template:'{% block klaviyo_integration_settings_customer %}\n    <sw-card :title="$tc(\'klaviyo-integration-settings.customer.title\')">\n\n        {% block klaviyo_integration_settings_customer_custom_field_mapping %}\n\n            <template v-if="!isLoading" v-for="mappedField, mappedKey in customFieldMapping">\n                <sw-container columns="2fr 5fr 5fr" gap="16px">\n\n                    <sw-switch-field\n                            :label="$tc(\'sw-boolean-filter.active\')"\n                            :disabled="isLoading"\n                            size="small"\n                            v-model:value="mappedField.active">\n                    </sw-switch-field>\n\n                    <sw-text-field v-model:value="mappedField.customLabel"\n                                   :disabled="!mappedField.active"\n                                   :placeholder="$tc(\'klaviyo-integration-settings.customer.fieldMapping.item.fieldNamePlaceholder\')"\n                                   :error="mappingErrorStates[mappedKey]?.code !== undefined ? mappingErrorStates[mappedKey] : null"\n                                   :label="$tc(\'klaviyo-integration-settings.customer.fieldMapping.item.fieldName\')">\n                    </sw-text-field>\n                    <div class="custom-field-hint-container">\n                        <span>{{ getCustomFieldHint(mappedKey) }}</span>\n                    </div>\n                </sw-container>\n            </template>\n\n            <div v-if="!isLoading && noCustomFieldsError" class="klaviyo-fieldmapping-notice-block">\n                {{ $tc(noCustomFieldsError) }}\n            </div>\n\n        {% endblock %}\n        <sw-loader v-if="isLoading"/>\n\n    </sw-card>\n{% endblock %}\n',props:{allConfigs:{type:Object,required:!0},mappingErrorStates:{type:Object,required:!0}},inject:["repositoryFactory"],created(){this.createdComponent()},data(){return{isLoading:!1,isSomeMappingsNotFilled:!1,systemCustomFields:null,configPath:"klavi_overd.config.customerFieldMapping"}},computed:{customFieldRepository(){return this.repositoryFactory.create("custom_field")},customFieldCriteria(){let e=new m;return e.addSorting(m.sort("name","ASC",!0)),e.addFilter(m.equals("customFieldSet.relations.entityName","customer")),e.addFilter(m.equals("active",1)),e.addAssociation("customFieldSet"),e},noCustomFieldsError(){return 0===this.systemCustomFields.total?this.$tc("klaviyo-integration-settings.customer.fieldMapping.noMappingFieldsError"):null},customFieldMapping:{get:function(){return this.allConfigs.null[this.configPath]}}},watch:{customFieldMapping:{handler(){let e=this.allConfigs.null[this.configPath];Object.keys(e).every(n=>(e[n].active&&!e[n].customLabel?this.$set(this.mappingErrorStates,n,{code:1,detail:this.$tc("klaviyo-integration-settings.customer.fieldMapping.labelNotFilledError")}):this.$delete(this.mappingErrorStates,n),!0))},deep:!0}},methods:{createdComponent(){this.isLoading=!0,this.localeIso=f.app.fallbackLocale,(void 0===this.customFieldMapping||Array.isArray(this.customFieldMapping))&&this.$set(this.allConfigs.null,this.configPath,{}),this.customFieldRepository.search(this.customFieldCriteria,f.api).then(e=>{this.systemCustomFields=e}).finally(()=>{this.processCustomFieldMappings(),this.isLoading=!1})},processCustomFieldMappings(){let e=[],n=this.systemCustomFields.map(e=>e.name);Object.keys(this.customFieldMapping).forEach(t=>{this.customFieldMapping[t].active&&!this.customFieldMapping[t].customLabel?this.$set(this.mappingErrorStates,t,{code:1,detail:this.$tc("klaviyo-integration-settings.customer.fieldMapping.labelNotFilledError")}):this.$set(this.mappingErrorStates,t,{}),e.push(this.customFieldMapping[t].customFieldName),-1===n.indexOf(this.customFieldMapping[t].customFieldName)&&(this.$delete(this.mappingErrorStates,t),this.$delete(this.customFieldMapping,t))}),n.forEach(n=>{e.includes(n)||this.addNewEmptyFieldMapping(this.systemCustomFields.filter(e=>e.name===n)[0])})},getCustomFieldHint(e){let n=this.customFieldMapping[e].customFieldName,t=this.systemCustomFields.filter(e=>e.name===n)[0]??{};return t?.config?.label[this.localeIso]??t?.name??"<not_found>"},addNewEmptyFieldMapping(e){let n="mapping_"+this.generateGuid();this.$set(this.customFieldMapping,n,{customLabel:"",customFieldName:e.name,active:!1}),this.$set(this.mappingErrorStates,n,{})},generateGuid(){let e=()=>Math.floor((1+Math.random())*65536).toString(16).substring(1);return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}});var _=class{constructor(e,n){this.apiService=e,this.isSynchronizationInProgress=!1,this.isSynchronizationSuccess=!1,this.date=n}scheduleSynchronization(){let e=this.apiService.scheduleSynchronization();return this.isSynchronizationInProgress=!0,e.then((function(e){this.isSynchronizationSuccess=!!e.data.isScheduled}).bind(this)).catch((function(e){this.isSynchronizationSuccess=!1}).bind(this)).finally((function(){this.isSynchronizationInProgress=!1}).bind(this)),e}resetSynchronizationState(){this.isSynchronizationInProgress=!1,this.isSynchronizationSuccess=!1}};let{Component:w,Mixin:S}=Shopware,{date:C}=Shopware.Utils.format;w.register("klaviyo-integration-settings-synchronization-control",{template:'{% block klaviyo_integration_settings_synchronization_control %}\n    <div class="klaviyo-integration-settings-synchronization-control">\n\n        {% block klaviyo_integration_settings_synchronization_control_historical_events_tracking %}\n            <sw-button-process variant="ghost"\n                               :isLoading="historicalEventsJobInteractor.isSynchronizationInProgress"\n                               :processSuccess="historicalEventsJobInteractor.isSynchronizationSuccess"\n                               @click="scheduleHistoricalEventsSynchronization"\n                               @process-finish="resetHistoricalEventsSynchronizationState">\n                {{ $tc(\'klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.button_label\') }}\n            </sw-button-process>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_synchronization_control_subscribers %}\n            <sw-button-process variant="ghost"\n                               :isLoading="subscribersSynchronizationJobInteractor.isSynchronizationInProgress"\n                               :processSuccess="subscribersSynchronizationJobInteractor.isSynchronizationSuccess"\n                               @click="scheduleSubscribersSynchronization"\n                               @process-finish="resetSubscribersSynchronizationState">\n                {{ $tc(\'klaviyo_integration_plugin.subscribers.schedule_synchronization.button_label\') }}\n            </sw-button-process>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',inject:["klaviyoHistoricalEventsSynchronizationApiService","klaviyoSubscribersSynchronizationApiService"],mixins:[S.getByName("notification")],data(){return{historicalEventsJobInteractor:new _(this.klaviyoHistoricalEventsSynchronizationApiService,C),subscribersSynchronizationJobInteractor:new _(this.klaviyoSubscribersSynchronizationApiService,C)}},methods:{scheduleHistoricalEventsSynchronization(){this.historicalEventsJobInteractor.scheduleSynchronization().then((function(e){e.data.isScheduled?this.createNotificationSuccess({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.success")}):"SYNCHRONIZATION_IS_ALREADY_RUNNING"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.is_running")}):"SYNCHRONIZATION_IS_ALREADY_SCHEDULED"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.is_scheduled")}):this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.failed")})}).bind(this)).catch((function(e){this.createNotificationError({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.failed")})}).bind(this))},scheduleSubscribersSynchronization(){this.subscribersSynchronizationJobInteractor.scheduleSynchronization().then((function(e){e.data.isScheduled?this.createNotificationSuccess({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.success")}):"SYNCHRONIZATION_IS_ALREADY_RUNNING"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.is_running")}):"SYNCHRONIZATION_IS_ALREADY_SCHEDULED"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.is_scheduled")}):this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.failed")})}).bind(this)).catch((function(){this.createNotificationError({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.failed")})}).bind(this))},resetSubscribersSynchronizationState(){this.subscribersSynchronizationJobInteractor.resetSynchronizationState()},resetHistoricalEventsSynchronizationState(){this.historicalEventsJobInteractor.resetSynchronizationState()}}}),t(845);let{Component:I}=Shopware;I.register("klaviyo-integration-settings-icon",{template:'{% block klaviyo_integration_settings_icon %}\n    <div class="od-klaviy-settings-icon">\n        <img height="30" width="30" src=\'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjY2IDE3OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjb2xvcj0icmdiYSgyNTUsIDI1NSwgMjU1LCAxKSIgcm9sZT0iaW1nIgogICAgIGFyaWEtbGFiZWw9IktsYXZpeW8gTG9nbyI+CiAgICA8cGF0aCBkPSJNMjY2IDE3OEgwVjBoMjY2bC01NS44MzUgODlMMjY2IDE3OFoiIGZpbGw9InJnYmEoMjU1LCAyNTUsIDI1NSwgMSkiPjwvcGF0aD4KPC9zdmc+Cg==\'/>\n    </div>\n{% endblock %}'});var F=JSON.parse('{"klaviyo-job-listing":{"general":{"title":"Klaviyo Job Listing","description":"job-listing"},"menu":{"title":"Klaviyo Job Listing"},"page":{"listing":{"title":"Job \xdcbersicht","description":"Job \xdcbersicht","grid":{"column":{"type":"Typ","message":"Nachricht","status":"Status","name":"Name","started-at":"Begonnen am","finished-at":"Fertiggestellt am","created-at":"Erstellt am"}}},"detail":{"textHeadline":"Job","jobChildrenTitle":"Job Kinder"},"job-listing":{"filter":{"job-status":"Job Status","job-status-placeholder":"W\xe4hle einen Job Status...","job-type":"Job Typ","job-type-placeholder":"W\xe4hle einen Job Type...","created-at":"Job erstellt am","from":"von","to":"bis"}}},"actions":{"reschedule-job":{"button":{"label":"Job nochmal ausf\xfchren"}},"show-messages":{"button":{"label":"Zeige Nachrichten"}}}},"klaviyo-integration-settings":{"label":"Klaviyo","title":"Klaviyo","general":{"title":"Allgemein","credentialsAlert":"Einstellungen m\xfcssen auf Verkaufskanal Ebene durchgef\xfchrt sein.","doubleoptinAlert":"Listen sind in allen Klaviyo-Konten standardm\xe4\xdfig auf Double-Opt-In eingestellt. Achten Sie darauf, dass Sie Double Opt-In nicht gleichzeitig in Shopware und Klaviyo aktiviert haben!","initialization":{"label":"Klaviyo nach der ersten Interaktion mit der Seite initialisieren.","general-label":"Interaktionseinstellungen","helpText":"Nachdem eun User mit der Seite interagiert hat, werden die Klaviyo-Skripte initialisiert. Bei nachfolgenden Seiten\xfcberg\xe4ngen werden die Skripte sofort initialisiert."},"cookie":{"title":"Cookie consent"}},"pop-up":{"title":"Wieder auf Lager Popup-Stile","open-button-fieldset-label":"Pop-Up \xf6ffnen Button","close-button-fieldset-label":"Pop-Up schlie\xdfen Button","subscribe-button-fieldset-label":"Anmelden Button","snippet-button-fieldset-label":"Snippet Namen","additional-classes-fieldset-label":"Zus\xe4tzliche Klassen","colorLabel":"Farbe","backgroundLabel":"Hintergrund","openBtnLabel":"\xd6ffnen Button","closeBtnLabel":"Schlie\xdfen Button","contentMessageLabel":"Inhaltsnachricht","subscribeBtnLabel":"Anmelden Button","subscribeCheckboxLabel":"Anmelden Kontrollk\xe4stchen-Text","emailFieldLabel":"E-Mail Feld Etikett","emailFieldPlaceholder":"E-Mail Feld Platzhalter"},"configs":{"credentials":{"messageNotBlank":"Pflichtfeld."},"enabled":{"label":"Account aktivieren","helpText":"Durch Aktivieren dieses Schalters kannst du das konfigurierte Klaviyo-Konto f\xfcr den aktuellen Verkaufskanal aktivieren/deaktivieren."},"privateApiKey":{"label":"Klaviyo Private API Schl\xfcssel","helpText":"Klaviyo Private API Schl\xfcssel. Du findest ihn in deinem Klaviyo Konto."},"publicApiKey":{"label":"Klaviyo Public API Schl\xfcssel","helpText":"Klaviyo Public API Schl\xfcssel. Du findest ihn in deinem Klaviyo Konto."},"klaviyoListForSubscribersSync":{"label":"Klaviyo List ID f\xfcr die Synchronisierung der Abonnenten","helpText":"Die ID der Abonnentenliste in Klaviyo, zu der alle Shopware6-Abonnenten hinzugef\xfcgt werden sollen."},"bisVariantField":{"label":"Zuordnung von Produktidentifikationsfeldern","helpText":"Zuordnung der Produktidentifikation","productId":"Produkt ID"},"orderIdentification":{"label":"Zuordnung der Bestellidentifikationsfelder","helpText":"W\xe4hlen Sie die Bestellidentifikationsvariable aus, die an Klaviyo gesendet wird","orderId":"Order ID","orderNumber":"Order Nummer"},"cookieConsent":{"label":"Cookie Consent","helpText":"Cookie Consent","nothingLabel":"Nothing","shopwareLabel":"Shopware Default","cookieBotLabel":"CookieBot","consentManagerLabel":"Consent Manager"},"trackDeletedAccountOrders":{"label":"\xdcbersicht \xfcber die Bestellungen eines gel\xf6schten Kontos","helpText":"Sollen die Bestellevents von gel\xf6schten Kunden zu Klaviyo synchronisiert werden? Hinweis: Wenn diese Funktion aktiviert ist, k\xf6nnen doppelte Klaviyo-Profile synchronisiert werden."},"trackViewedProduct":{"label":"Angesehene Produkte tracken","helpText":"Soll das \\"Viewed Product\\" zu Klaviyo \xfcbertragen werden?"},"trackRecentlyViewedItems":{"label":"K\xfcrzlich angesehene Produkte tracken","helpText":"Soll das \\"Recently Viewed Items\\" zu Klaviyo \xfcbertragen werden?"},"trackAddedToCart":{"label":"Zum Warenkorb hinzugef\xfcgt tracken","helpText":"Soll das \\"Added to Cart Event\\" zu Klaviyo \xfcbertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackStartedCheckout":{"label":"Begonnener Checkout tracken","helpText":"Soll das \\"Started Checkout Event\\" zu Klaviyo \xfcbertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackPlacedOrder":{"label":"Bestellungen tracken","helpText":"Soll das \\"Placed Order Event\\" zu Klaviyo \xfcbertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackOrderedProduct":{"label":"Bestelltes Produkt tracken","helpText":"Soll das \\"Ordered Product Event\\" zu Klaviyo \xfcbertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackFulfilledOrder":{"label":"Ausgelieferte Bestellung tracken","helpText":"Soll das \\"Fulfilled Order Event\\" zu Klaviyo \xfcbertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackCancelledOrder":{"label":"Stornierte Bestellung tracken","helpText":"Soll das \\"Cancelled Order Event\\" zu Klaviyo \xfcbertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackRefundedOrder":{"label":"Bezahlt Bestellung tracken","helpText":"Soll das \\"Paid Order Event\\" zu Klaviyo \xfcbertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackShippedOrder":{"label":"Ausgeliefert Bestellung tracken","helpText":"Soll das \\"Shipped Order Event\\" zu Klaviyo \xfcbertragen werden?\\nDas beeinflusst auch histoirische Events."},"trackSubscribedToBackInStock":{"label":"Wieder auf Lager tracken","helpText":"Soll das \\"Back In Stock Event\\" zu Klaviyo \xfcbertragen werden?\\n"},"oldJobCleanup":{"label":"Aktivieren Sie die Bereinigung alter Jobs","helpText":"Erm\xf6glicht das Bereinigen alter Jobs in der Klaviyo-Stellenanzeige"},"oldJobCleanupPeriod":{"after":"Nach","days":"Tagen"},"apiValidation":{"buttonLabel":"API-key Pr\xfcfung","emptyErrorMessage":"\\"{entityName}\\" darf nicht leer sein!","generalErrorMessage":"API-Schl\xfcssel k\xf6nnen nicht validiert werden","incorrectCredentialsTitle":"Falsche Anmeldeinformationen","correctApiMessage":"API-keys sind g\xfcltig","listNotExistMessage":"In Klaviyo wurde eine Liste mit einer solchen ID nicht gefunden. Bitte \xfcberpr\xfcfen Sie die Korrektheit der Listen-ID."},"enableDailySynchronization":{"label":"Aktivieren Sie die t\xe4gliche Abonnentensynchronisierung","helpText":"Mit dieser Option k\xf6nnen Sie die t\xe4gliche geplante Synchronisierung von Abonnenten aktivieren"},"timeDailySynchronization":{"label":"Zeit f\xfcr die t\xe4gliche Synchronisierung der Abonnenten","helpText":"Die Option gibt an, zu welchem Zeitpunkt die t\xe4gliche Abonnentensynchronisierung erfolgen soll"},"excludedSubscribersSynchronization":{"label":"T\xe4gliche Synchronisierung der ausgeschlossenen Abonnenten aktivieren","helpText":"Mit dieser Option k\xf6nnen Sie die t\xe4gliche geplante Synchronisierung der ausgeschlossenen Abonnenten aktivieren."}},"customer":{"title":"Zusatzfelder Mapping","fieldMapping":{"labelNotFilledError":"Feldname muss ausgef\xfcllt sein.","noMappingFieldsError":"Es gibt keine Kunden-Zusatzfelder.","item":{"fieldName":"Zusatzfeld Name","fieldNamePlaceholder":"Zusatzfeld Typ"}}}},"klaviyo_integration_plugin":{"not_available":"N/A","subscribers":{"last_synchronization_status":{"finished":"Letzte Synchronisierung: {status} ({date})","not_finished":"Letzte Synchronisierung: {status}"},"last_success_synchronization":"Letzte erfolgreiche Synchronisierung: {date}","get_synchronization_status":{"failed":"Fehler bei letzter Synchronisierung"},"schedule_synchronization":{"button_label":"Synchronisiere Abonnenten.","success":"Abonennten Synchronisierung eingeplant.","failed":"Fehler bei der Planung der Abonennten Synchronisierung.","is_running":"Abonennten Synchronisierung l\xe4uft bereits.","is_scheduled":"Abonennten Synchronisierung ist bereits eingeplant."}},"historical_events_tracking":{"last_synchronization_status":{"finished":"Letzte Synchronisierung: {status} ({date})","not_finished":"Letzte Synchronisierung: {status}"},"last_success_synchronization":"Letzte erfolgreiche Synchronisierung: {date}","get_synchronization_status":{"failed":"Fehler bei der historischen Events Tracking Synchronisierung."},"schedule_synchronization":{"button_label":"Synchronisiere historische Events.","success":"Historische Events Synchronisierung eingeplant.","failed":"Fehler bei Planung der historischen Events Synchronisation.","is_running":"Historische Events Synchronisation l\xe4uft bereits.","is_scheduled":"Historische Events Synchronisation ist bereits eingeplant."}},"promotion":{"exportInKlaviyoFormatButtonLabel":"Export im Klaviyo Format","notification":{"notificationExportErrorMessage":"Beim Exportieren der Aktion ist ein Fehler aufgetreten \\"{entityName}\\"."}},"productComparison":{"templates":{"template-label":{"klaviyo-product-feed":"Klaviyo (XML)"}}}}}'),x=JSON.parse('{"klaviyo-job-listing":{"general":{"title":"Klaviyo Job Listing","description":"job-listing"},"menu":{"title":"Klaviyo Job Listing"},"page":{"listing":{"title":"Job Listing","description":"List of Jobs","grid":{"column":{"type":"Type","message":"Message","status":"Status","name":"Name","started-at":"Started at","finished-at":"Finished at","created-at":"Created at"}}},"detail":{"textHeadline":"Job","jobChildrenTitle":"Job Children"},"job-listing":{"filter":{"job-status":"Job status","job-status-placeholder":"Select job status...","job-type":"Job type","job-type-placeholder":"Select job type...","created-at":"Job Created At","from":"From","to":"To"}}},"actions":{"reschedule-job":{"button":{"label":"Reschedule job"}},"show-messages":{"button":{"label":"Show messages"}}}},"klaviyo-integration-settings":{"label":"Klaviyo","title":"Klaviyo","general":{"title":"General","credentialsAlert":"All credentials must be configured on sales channel level.","doubleoptinAlert":"Lists are set to double opt-in by default in all Klaviyo accounts. Be careful that you do not have double opt-in enabled in Shopware and Klaviyo at the same time!","initialization":{"label":"Initialize Klaviyo After First Interaction With Page.","general-label":"Interaction settings","helpText":"After the client starts interacting with the page, the Klaviyo scripts will be initialized. On subsequent page transitions, the scripts will be initialized immediately."},"cookie":{"title":"Cookie consent"}},"pop-up":{"title":"Back-In-Stock Pop-up Styles","open-button-fieldset-label":"Pop-Up opening button","close-button-fieldset-label":"Pop-Up close button","subscribe-button-fieldset-label":"Subscribe button","snippet-button-fieldset-label":"Snippet names","additional-classes-fieldset-label":"Additional classes","colorLabel":"Color","backgroundLabel":"Background","openBtnLabel":"Open Button","closeBtnLabel":"Close Button","contentMessageLabel":"Content message","subscribeBtnLabel":"Subscribe Button","subscribeCheckboxLabel":"Subscribe checkbox text","emailFieldLabel":"Email field label","emailFieldPlaceholder":"Email field placeholder"},"configs":{"credentials":{"messageNotBlank":"This field must be filled."},"enabled":{"label":"Enable Account","helpText":"By switching this toggle you can enable/disable configured Klaviyo account on current sales-channel."},"privateApiKey":{"label":"Klaviyo Private API key","helpText":"Klaviyo Private API key. You can find it in your Klaviyo account"},"publicApiKey":{"label":"Klaviyo Public API key","helpText":"Klaviyo Public API key. You can find it in your Klaviyo account"},"klaviyoListForSubscribersSync":{"label":"Klaviyo List ID for subscribers sync","helpText":"The ID of the Subscribers list in Klaviyo where all Shopware6 subscribers will be added."},"bisVariantField":{"label":"Product identification field mapping","helpText":"Product identification mapping","productId":"Product ID"},"orderIdentification":{"label":"Order identification field mapping","helpText":"Select order identification variable that will be send to Klaviyo","orderId":"Order ID","orderNumber":"Order Number"},"cookieConsent":{"label":"Cookie Consent","helpText":"Cookie Consent","nothingLabel":"Nothing","shopwareLabel":"Shopware Default","cookieBotLabel":"CookieBot","consentManagerLabel":"Consent Manager"},"trackDeletedAccountOrders":{"label":"Track Deleted Account\'s Orders","helpText":"Do we need to synchronize deleted customer\'s order events to Klaviyo? Note: When this feature is enabled, duplicate Klaviyo profiles may be synchronized."},"trackViewedProduct":{"label":"Track Viewed Product","helpText":"Do we need to send \\"Viewed Product\\" Event to Klaviyo?"},"trackRecentlyViewedItems":{"label":"Track Recently Viewed Items","helpText":"Do we need to send \\"Recently Viewed Items\\" Event to Klaviyo?"},"trackAddedToCart":{"label":"Track Added to Cart","helpText":"Do we need to send \\"Added to Cart Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackStartedCheckout":{"label":"Track Started Checkout","helpText":"Do we need to send \\"Started Checkout Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackPlacedOrder":{"label":"Track Placed Order","helpText":"Do we need to send \\"Placed Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackOrderedProduct":{"label":"Track Ordered Product","helpText":"Do we need to send \\"Ordered Product Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackFulfilledOrder":{"label":"Track Fulfilled Order","helpText":"Do we need to send \\"Fulfilled Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackCancelledOrder":{"label":"Track Cancelled Order","helpText":"Do we need to send \\"Cancelled Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackRefundedOrder":{"label":"Track Refunded Order","helpText":"Do we need to send \\"Refunded Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackPaidOrder":{"label":"Track Paid Order","helpText":"Do we need to send \\"Paid Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackShippedOrder":{"label":"Track Shipped Order","helpText":"Do we need to send \\"Shipped Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackSubscribedToBackInStock":{"label":"Track Back In Stock","helpText":"Do we need to send \\"Back In Stock Event\\" to Klaviyo?\\n"},"oldJobCleanup":{"label":"Enable cleanup of old jobs","helpText":"Enables cleaning up old jobs in the Klaviyo job listing"},"oldJobCleanupPeriod":{"after":"After","days":"days"},"apiValidation":{"buttonLabel":"API-key test","emptyErrorMessage":"\\"{entityName}\\" should not be blank!","generalErrorMessage":"Unable to validate API-keys","incorrectCredentialsTitle":"Incorrect Credentials","correctApiMessage":"API-keys are valid","listNotExistMessage":"In Klaviyo a List with such an ID was not found. Please check the correctness of the List ID."},"enableDailySynchronization":{"label":"Enable Daily Subscribers Synchronization","helpText":"This option allows you to enable daily scheduled synchronization of subscribers"},"timeDailySynchronization":{"label":"Time for Daily Subscribers Synchronization","helpText":"The option specifies at which time to sync daily subscribers synchronization"},"excludedSubscribersSynchronization":{"label":"Enable Daily Excluded Subscribers Synchronization","helpText":"This option allows you to enable daily scheduled synchronization of excluded subscribers"}},"customer":{"title":"Custom Field Mapping","fieldMapping":{"labelNotFilledError":"Field Name must be filled.","noMappingFieldsError":"There are no customer custom fields for mapping.","item":{"fieldName":"Field Name","fieldNamePlaceholder":"Type mapping custom label"}}}},"klaviyo_integration_plugin":{"not_available":"N/A","subscribers":{"last_synchronization_status":{"finished":"Last Synchronization: {status} ({date})","not_finished":"Last Synchronization: {status}"},"last_success_synchronization":"Last Success Synchronization: {date}","get_synchronization_status":{"failed":"Failed to get Last Subscribers synchronization status"},"schedule_synchronization":{"button_label":"Synchronize subscribers","success":"Subscribers synchronization scheduled","failed":"Subscribers synchronization failed to schedule","is_running":"Subscribers synchronization is already running","is_scheduled":"Subscribers synchronization is already scheduled"}},"historical_events_tracking":{"last_synchronization_status":{"finished":"Last Synchronization: {status} ({date})","not_finished":"Last Synchronization: {status}"},"last_success_synchronization":"Last Success Synchronization: {date}","get_synchronization_status":{"failed":"Failed to get Last Historical Events Tracking synchronization status"},"schedule_synchronization":{"button_label":"Synchronize historical events","success":"Historical events synchronization scheduled","failed":"Historical events synchronization failed to schedule","is_running":"Historical events synchronization is already running","is_scheduled":"Historical events synchronization is already scheduled"}},"promotion":{"exportInKlaviyoFormatButtonLabel":"Export in Klaviyo Format","notification":{"notificationExportErrorMessage":"An error occurred while exporting the promotion \\"{entityName}\\"."}},"productComparison":{"templates":{"template-label":{"klaviyo-product-feed":"Klaviyo (XML)"}}}}}');let{Module:T}=Shopware;T.register("klaviyo-plugin",{type:"plugin",title:"klaviyo-integration-settings.title",description:"klaviyo-job-listing.general.description",color:"#F88962",icon:"default-avatar-multiple",snippets:{"de-DE":F,"en-GB":x},routes:{index:{component:"klaviyo-job-listing",path:"index"},settings:{component:"klaviyo-integration-settings",path:"settings",meta:{parentPath:"sw.settings.index.plugins"}}},settingsItem:{group:"plugins",to:"klaviyo.plugin.settings",label:"klaviyo-integration-settings.label",iconComponent:"klaviyo-integration-settings-icon",backgroundEnabled:!0},navigation:[{id:"klaviyo",label:"klaviyo-job-listing.menu.title",color:"#F88962",icon:"default-avatar-multiple",parent:"sw-marketing",path:"klaviyo.plugin.index",position:100}]});let{Component:z}=Shopware;z.override("sw-product-deliverability-form",{template:'{% block sw_product_deliverability_form_max_purchase_field %}\n    {% parent() %}\n    {% block od_klaviyo_back_in_stock_email_notification %}\n        <sw-field v-model:value="product.customFields.klaviyo_back_in_stock_disabled"\n                  type="switch"\n                  label="Disable back in stock email notifications"\n        />\n    {% endblock %}\n{% endblock %}',methods:{createdComponent(){void 0===this.product.stock&&(this.product.stock=0),this.product&&(this.product.customFields||(this.product.customFields={}),this.product.customFields.klaviyo_back_in_stock_disabled||(this.product.customFields.klaviyo_back_in_stock_disabled=!1))}}})}()})();